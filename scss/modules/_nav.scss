@use "sass:map";

$navColors: (
  "a.software": $software-color,
  "a.support": $support-color,
  "a.marketing": $marketing-color,
  "a.services": $services-color,
  "a.design": $design-color,
  "a.security": $security-color,
  "a.course": $training-color
);

$navBgColors: (
  "a.software": $software-bg-color,
  "a.support": $support-bg-color,
  "a.marketing": $marketing-bg-color,
  "a.services": $services-bg-color,
  "a.design": $design-bg-color,
  "a.security": $security-bg-color,
  "a.course": $course-bg-color
);

.topbar{
    padding: 20px 0;
}

.topbar-links{
    display:flex;
    justify-content: flex-end;
    padding: 7px 0;
}

.topbar-links a{
    margin-right: 15px;
}

.btn{
    display: inline-flex;
}

.btn-search i{
    margin-right:0;
}

.btn-toggle{
    padding: 14px 15px;
    margin-right: 0 !important;
}


.navibar{ 
    background-color: $primary-color;
    display:none;
}

.nav{
    display: flex;
    justify-content: space-around;
    padding:0;
    margin:0;
}

.nav__item{
    flex: 1 0;
    text-align:center;
    list-style:none;
}

.nav__item a{
    position:relative;
    display: block;
    padding: 18px 0;
    text-transform: uppercase;
    color: $white;
    font-size: 1.15rem;
    line-height: 1rem;
}

.nav__item small{
    font-size: 0.65rem;
}

.nav__item i{
    font-size: 1.25rem;
    margin-bottom: 10px;
}

@each $className, $color in $navColors {
    #{$className} i{    
        color: #{$color};       
    }

    #{$className}:hover{
        background-color: $color;
        & i{
            color: $white;
        }  
    }


    //nav triangle
    #{$className}:hover::before{
        @include triangle($color, 92.57px);
        position: absolute;
        bottom:-35px;
        left:0;
    }


    #{$className}:hover + .mega-menu{
        display:block;
    }

}

@each $className, $color in $navBgColors {
    #{$className} + .mega-menu{
        position: absolute;
        display: none;
        background-color: $color;
        width: 100%;
        left: 0;
        padding: 50px;
    }
}

.nav__item .mega-menu{
    color: $white;
    text-align:left;

    & .sub-menu{
        margin-top:20px;        
        padding-left: 0;
        font-size: 1.2rem;
        list-style:none;

        & li{
            & a{
                text-transform: capitalize;                
                padding: 0.625rem 0.938rem 0.625rem 0;

                &:hover{
                    text-decoration: underline;
                }
            }

            & i{
                margin-right: 10px;
            }          
        }
    }
}



@media (min-width: map.get($breakpoints, "md")) {
    .navibar{
        display:block !important;
    }
    $size : ((map.get($navWidths, "md") / 7) / 2 ) + 0px;
    .nav__item a:hover::before{
        @include triangle(null, $size);

    }
}


@media (min-width: map.get($breakpoints, "lg")) {
    $size : ((map.get($navWidths, "lg") / 7) / 2 ) + 0px;
    .nav__item a:hover::before{
        @include triangle(null, $size);
    }
}


@media (min-width: map.get($breakpoints, "xl")) {
    $size : ((map.get($navWidths, "xl") / 7) / 2 ) + 0px;
    .nav__item a:hover::before{
        @include triangle(null, $size);
    }
}

